<!DOCTYPE html>
<html>
  <script src="./mimi.js"></script>
  <body>
    <canvas onClick="wakeup()" id="mimi" width="150" height="150"></canvas>
  </body>
  <script>
    const ctx = document.querySelector("canvas#mimi").getContext("2d");
    CanvasRenderingContext2D.prototype.roundRect = function (
      x,
      y,
      w,
      h,
      r,
      color
    ) {
      if (w < 2 * r) r = w / 2;
      if (h < 2 * r) r = h / 2;

      this.beginPath();
      this.moveTo(x + r, y);
      this.arcTo(x + w, y, x + w, y + h, r);
      this.arcTo(x + w, y + h, x, y + h, r);
      this.arcTo(x, y + h, x, y, r);
      this.arcTo(x, y, x + w, y, r);
      this.closePath();
      if (color) {
        this.fillStyle = color;
        this.fill();
      }
      return this;
    };
    const mimi = new MiMi(ctx);

    console.log(mimi.range_left_eye, mimi.range_right_eye);
    let timer;
    let timer1;

    function wakeup() {
      return mimi.wakeup();
    }

    document.addEventListener("mousemove", (e) => {
      clearTimeout(timer);
      clearTimeout(timer1);
      timer = setTimeout(() => {
        mimi.move_both_eye_with_time(e.clientX, e.clientY, 1);
      }, 200);

      timer1 = setTimeout(() => {
        mimi.sleep();
      }, 5000);
    });
  </script>
</html>
